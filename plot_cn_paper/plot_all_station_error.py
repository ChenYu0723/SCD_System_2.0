# -*- coding: utf-8 -*-
# @Time    : 2019/12/16 16:57
# @Author  : Chen Yu

import matplotlib.pyplot as plt
plt.rcParams['font.sans-serif'] = ['SimHei']
EPOCH = 100

rmse_all_ls = [40.97308378718731, 36.75433870482314, 35.81081363901964, 36.04507815502743, 35.728395492894975, 35.98323512807957, 35.26956179594018, 35.00620312286675, 34.771556713762166, 34.67484275288044, 34.571861199377565, 34.476904270017194, 34.68926694653284, 34.63835466686681, 34.63427900186446, 34.53616207262411, 34.490313556809426, 34.495652572303264, 34.45401118828459, 34.44492765052628, 34.39031365489874, 34.32453898068516, 34.038606380255594, 33.910286196271166, 33.84620190668116, 33.7918924199284, 33.71117995166353, 33.563293851762275, 33.43028685116876, 33.36700132577949, 33.291845382930646, 33.16533830576453, 33.1140782341334, 33.073462819600444, 33.04616547753831, 33.15410138604047, 32.887275620994316, 32.95066584460905, 32.8603807488626, 32.883698205276325, 32.7750601947841, 33.60345039741598, 33.57758614092769, 32.793925813913596, 34.12309450044875, 34.984424216056034, 34.99255657654638, 32.84759759813131, 32.567802168935984, 32.59336870693548, 34.127255290329764, 34.922336118162, 32.49154338390716, 32.383973907869496, 32.43666952403486, 32.342360541313326, 32.3086852607045, 32.32147991978175, 32.22607528897876, 32.18076848598522, 32.33626682541047, 42.835017280396656, 32.76938491284258, 32.28164064797902, 32.16279116482405, 32.21148116728746, 32.086789931223144, 32.17099630898081, 32.151271154862975, 64.14728909190866, 37.09352468746049, 32.579633842711495, 32.417843522691655, 32.25270484632459, 32.062055347312146, 32.02296536493825, 32.10861307128133, 31.878332018924723, 31.895163649323855, 137.8766562230706, 310.1607894420157, 306.22760291148614, 307.4974141028261, 292.68215979021596, 296.46503862282214, 295.02689371659784, 295.21968276127757, 303.0023289184011, 287.14485196605546, 274.6239940554951, 282.46133093505716, 287.07950690699687, 264.45666200133695, 302.4310168322236, 288.02296072944404, 297.3332113374046, 291.9450040139207, 262.24911987469267, 255.1099461676694, 282.596439781414]
mae_all_ls = [29.22619, 25.759007, 25.176844, 25.367817, 25.210777, 25.360893, 24.921661, 24.722816, 24.586864, 24.52284, 24.453375, 24.42236, 24.612, 24.571575, 24.608398, 24.593527, 24.570387, 24.605013, 24.567701, 24.573526, 24.540747, 24.480509, 24.23687, 24.151932, 24.101181, 24.066599, 24.032776, 23.939587, 23.846098, 23.805525, 23.769075, 23.660929, 23.631693, 23.58355, 23.586037, 23.678673, 23.511408, 23.552814, 23.477333, 23.518883, 23.419899, 23.886908, 23.881021, 23.392141, 24.120369, 24.763842, 24.903124, 23.432089, 23.252216, 23.268564, 24.157724, 25.08496, 23.231045, 23.124075, 23.174562, 23.101118, 23.075294, 23.067493, 23.026081, 23.004084, 23.118877, 30.48832, 23.396696, 23.100483, 22.985764, 22.99765, 22.943953, 22.966623, 22.953459, 42.02544, 26.24806, 23.321903, 23.206306, 23.098352, 22.923355, 22.937998, 22.971127, 22.834486, 22.853481, 91.823685, 220.40363, 216.99065, 217.4903, 204.10155, 207.30817, 206.07965, 208.16025, 215.38814, 201.1279, 190.0544, 200.15175, 203.47777, 182.28331, 214.18617, 204.00343, 212.07741, 208.03241, 186.3226, 184.12587, 199.94212]
mape_all_ls = [21.10955897321882, 17.71166788464723, 17.4259456220746, 17.78725074826643, 17.39966803674119, 16.941139330768596, 16.555196143953438, 16.477731744043528, 16.447702289405132, 16.423623857408465, 16.383760844507112, 16.3900373018266, 16.503621510624782, 16.609384694288085, 16.874119875508427, 17.064913361846962, 17.258415690038085, 17.41251926125381, 17.40959176296507, 17.48594320272772, 17.466327117474084, 17.325290987631945, 17.019003597973697, 16.92069207892021, 16.86505801895406, 16.827314535124568, 16.76766675049154, 16.680293237327014, 16.59952857789036, 16.544953342968917, 16.497675239551473, 16.38904825347721, 16.339794930139714, 16.262414939846135, 16.283489595415933, 16.378310829105434, 16.296286816970188, 16.293977948966702, 16.164998984050268, 16.208142354865945, 16.135089410153274, 16.394780626092402, 16.276046730394814, 16.114914735788002, 16.74217652727068, 17.8556063835826, 17.23719641964669, 16.119160227165906, 15.981794012362663, 15.939465705345498, 17.374517659416945, 18.599184001344142, 16.004621036938676, 15.776653673151229, 15.819967226890357, 15.716621038303543, 15.701027398847875, 15.641082946617525, 15.586729799624196, 15.583319297127037, 15.679294783694315, 23.382887533059044, 15.77133065194804, 15.832061092238737, 15.680859403820477, 15.673189792828655, 15.613580671150707, 15.572894622008315, 15.560472005815175, 34.34654933604869, 18.993722634577143, 15.96021993586142, 15.992481484141726, 15.960034016727013, 15.65312405163844, 15.773378716120693, 15.817745340318966, 15.703369914046029, 15.716337420981267, 85.06362222588078, 181.75069019783155, 177.7018905323402, 179.10508922612476, 158.8688501274858, 164.10997719947713, 162.5185042411513, 163.38047184323176, 179.22891512159748, 165.0362318995802, 153.86459722967177, 172.10693998319314, 171.2536495134922, 142.3651830005769, 179.75394468258145, 165.63961474147013, 173.25607992596233, 169.14346558284842, 153.8353401941696, 152.75159038105315, 160.92339729275773]
acc_all_ls = [0.8711911516340888, 0.886075250352428, 0.8886104650266969, 0.8885965673920809, 0.8907916871151096, 0.891728663779033, 0.8938624732109934, 0.8943615088471631, 0.8948535689391334, 0.89500627837404, 0.8951546537604271, 0.8951511962708107, 0.8946048745585208, 0.8939758398949493, 0.8930936072437737, 0.8926772890200007, 0.892122968011879, 0.8915918290757142, 0.8915972468268658, 0.8913640443561078, 0.8914689859996515, 0.8915655875250498, 0.8921873947860358, 0.892562738930869, 0.8928312659831437, 0.8930727155510287, 0.8935104431823112, 0.8939627004411681, 0.894315906443493, 0.8945286922235918, 0.8947156864098529, 0.8950927752651154, 0.8953126173904588, 0.8956438017114383, 0.8956971578790317, 0.8952093372633791, 0.8956168833339511, 0.895595381339216, 0.8962916064265525, 0.8961156314429185, 0.8964852689036593, 0.8921924821405154, 0.8951808550616303, 0.8962373190673849, 0.8929766442387351, 0.8767804624133168, 0.890054000394654, 0.896295551730913, 0.8971866449586764, 0.8973490756523226, 0.8760866479681075, 0.8835611123194232, 0.8974968792541809, 0.8986400721852315, 0.8984327540383162, 0.8988764603594721, 0.8989162411666264, 0.8991133810691871, 0.8994815310119135, 0.89964746165392, 0.8992108338670617, 0.8635862803358593, 0.8983668498237798, 0.8988033670352786, 0.8994623893782022, 0.8995166527734313, 0.8997714460733511, 0.900128654253394, 0.9002000472476016, 0.7943515046528968, 0.8824287770231569, 0.8982050093456879, 0.8983026258868154, 0.8981681970128231, 0.8998156245876914, 0.899384154362721, 0.8988965456230594, 0.8996060805821839, 0.8996104941530275, 0.5166111670164235, 0.18790959007435515, 0.1956030178787582, 0.1970150707139444, 0.18989400581849647, 0.18738404511260878, 0.1925171041969677, 0.17936690744621553, 0.1979603244576265, 0.23374605090322212, 0.2524964236066678, 0.21911692797758678, 0.226294516203523, 0.29062402818876737, 0.1890246265613035, 0.20631699037538517, 0.20736778771207443, 0.21977875757618295, 0.2981508499660147, 0.3148343038687752, 0.2537868300129668]

rmse_test_all_ls = [53.87034143667857, 49.80102678323239, 48.798645643264095, 48.76227576432518, 49.34436592910928, 48.37699808109596, 49.05851182491353, 48.970896602637104, 48.410783540625594, 47.57881405933293, 46.56850829342551, 45.900614906298735, 45.5306947032731, 45.53046504017215, 46.07529949373996, 45.495288270059675, 44.958575186821896, 44.49974869642216, 44.422016966462294, 44.287586176216124, 44.04619705430007, 43.86786723929862, 43.78264261463013, 43.65557289098269, 43.63459814895482, 44.16477987128914, 44.1848493794219, 43.94672482392849, 43.71926427769782, 43.63851659723146, 43.57837979768437, 43.61759909691444, 43.38788992414862, 43.14459366820667, 42.65648750061913, 42.66917519700829, 42.553801306816204, 42.4469822937505, 42.33117487980402, 42.21219284701431, 42.16637506658411, 45.44369199196974, 42.563509975556265, 42.68167398568047, 41.26046182005174, 51.15834974441016, 43.66497273263308, 43.22015831545003, 43.04685684388382, 42.94455272601114, 44.14148077936334, 42.011187615459015, 42.409822877112596, 42.369798190377374, 42.367534686779955, 42.5058133886873, 42.70680258218523, 42.50128370178272, 42.500037558840106, 42.35623153946451, 42.282358730415105, 45.60230343337343, 43.14610791614098, 43.500358092471394, 42.98506558557812, 42.88184059382817, 42.75645475189908, 42.2818468726011, 42.23132473645867, 50.99941858247077, 67.60111548825593, 43.476110235676444, 43.2006211644704, 43.014300484263444, 43.16086257171695, 42.98451196141151, 42.9055543486929, 42.79812017485659, 43.08966931580509, 394.24511026854725, 430.47029341204836, 400.44106566024027, 366.89402592635463, 379.291257271238, 370.7763935953812, 379.48269092495747, 368.5167228131878, 386.11740443928494, 332.01065675597926, 310.9826016781264, 367.8539450423185, 357.5487231201641, 377.0588575295644, 349.3163170183812, 380.2146376272911, 440.36386109432755, 335.44600542255694, 343.9599166924907, 325.72922823198536, 316.45525431985016]
mae_test_all_ls = [32.859333, 29.76504, 29.562819, 27.508036, 27.441797, 27.47645, 27.61606, 27.522924, 27.314688, 27.068417, 26.743027, 26.590946, 26.655855, 26.451344, 26.32846, 26.119877, 25.9986, 25.890272, 25.858335, 25.80796, 25.708029, 25.690334, 25.665863, 25.60992, 25.642721, 25.922306, 25.909746, 25.749935, 25.607845, 25.48895, 25.33958, 25.300888, 25.214424, 25.171978, 24.920645, 24.9021, 24.890738, 24.925777, 24.952988, 24.851894, 24.871641, 25.65387, 25.311543, 25.346653, 24.54768, 34.26213, 25.473595, 25.768684, 25.838827, 25.734982, 28.01168, 24.437063, 25.31825, 25.429264, 25.4511, 25.556585, 25.685436, 25.606897, 25.581491, 25.4081, 25.058683, 30.424273, 25.664999, 25.679651, 25.354967, 25.52985, 25.227562, 25.059843, 25.027027, 29.72025, 25.841858, 24.878492, 24.809689, 24.575094, 24.835617, 24.856783, 24.92991, 24.805157, 24.830296, 251.33739, 298.83066, 268.49945, 204.59865, 265.03015, 252.14046, 256.04926, 221.47942, 229.27892, 216.34132, 200.72887, 248.82109, 224.55641, 232.08571, 235.02556, 278.58054, 313.79648, 205.2851, 214.10577, 207.36807, 183.03964]
mape_test_all_ls = [24.77023487862868, 21.630585126769848, 21.34628435358023, 16.156792717102245, 15.209184768490303, 15.90602743702057, 16.172734027107555, 16.26389068670762, 16.276333949122673, 16.178862635905926, 15.935144382409561, 15.686399145768238, 15.555521215383823, 15.019069994107271, 14.218817909176533, 13.547413175304731, 13.231230125977444, 13.164097299942604, 13.314147054766996, 13.496136359679394, 13.627715485218244, 13.222893060017855, 13.201404639925713, 13.224682297844153, 13.312360768516859, 13.617133922301806, 13.65256748902492, 13.486146754943407, 13.336641035782986, 13.22552898946481, 13.145871107012798, 13.14190889780338, 13.223759113596035, 13.623847516301351, 13.657417530432726, 13.718582049776346, 14.033062402636578, 14.39864351772345, 14.806710059444109, 14.792014945011873, 15.03691794589544, 13.306389596217718, 16.46930170364869, 16.257138387897076, 16.8984955511032, 21.092938421628414, 14.577415079260485, 17.17842885125906, 17.485545833523457, 17.334631830453873, 16.140000206919815, 14.230495423842699, 17.556477271211453, 17.85891640644807, 17.955793048708866, 18.18342313934595, 18.28135205193972, 18.341761388075657, 18.238212206424812, 17.87014125058284, 17.273916638432404, 17.578539978235195, 19.138781344279266, 18.78572839957017, 18.347808795097546, 18.754433926481468, 18.134836107492447, 17.94528556175721, 17.81155390617175, 19.052099312345188, 18.470059774624996, 16.363915227926693, 16.48835316300392, 16.019501995581848, 16.896312655164646, 16.867236038431145, 16.887413824980076, 16.696961319599396, 16.71090858678023, 246.70445460539597, 297.1691996623308, 269.0350931424361, 137.30421127417148, 246.36380672454834, 221.0650500578758, 250.13010165630243, 163.81588203784747, 175.8937702729152, 206.26680224369733, 193.87121490943127, 233.8173392491463, 187.84851531187692, 184.94462095774136, 176.55804264239777, 228.54513678795252, 232.873196938099, 156.88921816838092, 154.72938341972156, 183.0297774229294, 114.34451356912271]
acc_test_all_ls = [0.8801633621679841, 0.8911734697563315, 0.8943259317203864, 0.8955718728737665, 0.8937754478214108, 0.8950236069215893, 0.89397642524513, 0.8947021208054915, 0.8959416209944467, 0.8977076258254556, 0.8996789005867086, 0.900898305007943, 0.9012233184427512, 0.9018189122126226, 0.9014108846146945, 0.9028112275430703, 0.9041807388253699, 0.9051773241821303, 0.9054089403258243, 0.9055285933873792, 0.9057991269939126, 0.9059093894212427, 0.9058470793061605, 0.9059765137295839, 0.9060720483163232, 0.9050859185375907, 0.9054038588044352, 0.9058554768363464, 0.9062263375191532, 0.9065654834658755, 0.9068607829836813, 0.9067459813311515, 0.9072562209782671, 0.9077963032652042, 0.9087704953652298, 0.9087697340094564, 0.9090592284509683, 0.9093148715970195, 0.9095813257742628, 0.910014672296305, 0.9101147361364637, 0.9043589750341735, 0.9091498928521702, 0.9092457746318495, 0.9117438441008698, 0.8907715719265007, 0.9064829156968965, 0.9077603398479349, 0.9084968908296361, 0.9087750056865693, 0.9045389919187221, 0.9112795854361178, 0.9099027338743293, 0.9097698557931131, 0.9098027450697972, 0.9095369508148502, 0.9091984645812462, 0.9095395036268942, 0.9096618922100228, 0.9099780681807689, 0.9102607688505377, 0.902308517565815, 0.9086186471377078, 0.9080195161373408, 0.9090370163053314, 0.9089734832480166, 0.9093364374249078, 0.9102561256808306, 0.9102996710101252, 0.8913632937402363, 0.8190376904930786, 0.9083914265304821, 0.9088282022912003, 0.9091714261002747, 0.9089705059504414, 0.9092022995841607, 0.9092644836207481, 0.9095653486822599, 0.9091776210513132, 0.1979561671658156, 0.08765813424747812, 0.17245437349891388, 0.2694757861755164, 0.1964279062284548, 0.2246711889166142, 0.22002855656194711, 0.2523932303632978, 0.22095344218140325, 0.314479381951861, 0.35631753453752624, 0.23336559087517408, 0.2688909504796945, 0.2291169169689473, 0.27390447645642435, 0.1931540919631274, 0.07832969939405106, 0.31660698006863375, 0.28784874109226033, 0.3343536359002518, 0.36490199451358735]

# ==== plot
plt.plot(range(1, EPOCH + 1), rmse_all_ls[:EPOCH], c='r', label='训练集')  # ls='--', marker='^',
# plt.plot(range(1, EPOCH + 1), rmse_test_all_ls[:EPOCH], c='b', label='测试集')  # ls='--', marker='^',
# plt.xticks(range(1, EPOCH+1))
# plt.yticks(range(0, 110, 10))
# plt.ylim((0, 100))
plt.xlabel('Epoch')
plt.ylabel('RMSE')
# plt.title('Rmse of all station')
plt.legend(loc='best')
plt.tight_layout()
plt.savefig(r'G:\Program\Pycharm Projects\ITS\SCD_System_2\result\all_station_result\rmse_all.png', dpi=300)
plt.show()


plt.plot(range(1, EPOCH + 1), mae_all_ls[:EPOCH], c='r', label='训练集')  # ls='--', marker='^',
plt.plot(range(1, EPOCH + 1), mae_test_all_ls[:EPOCH], c='b', label='测试集')  # ls='--', marker='^',
# plt.xticks(range(1, EPOCH+1))
# plt.yticks(range(0, 110, 10))
# plt.ylim((0, 100))
plt.xlabel('Epoch')
plt.ylabel('MAE')
# plt.title('Mae of all station')
plt.legend(loc='best')
plt.tight_layout()
plt.savefig(r'G:\Program\Pycharm Projects\ITS\SCD_System_2\result\all_station_result\mae_all.png', dpi=300)
plt.show()


plt.plot(range(1, EPOCH + 1), mape_all_ls[:EPOCH], c='r', label='训练集')  # ls='--', marker='^',
plt.plot(range(1, EPOCH + 1), mape_test_all_ls[:EPOCH], c='b', label='测试集')  # ls='--', marker='^',
# plt.xticks(range(1, EPOCH+1))
# plt.yticks(range(0, 110, 10))
# plt.ylim((0, 100))
plt.xlabel('Epoch')
plt.ylabel('MAPE (%)')
# plt.title('Mape of all station')
plt.legend(loc='best')
plt.tight_layout()
plt.savefig(r'G:\Program\Pycharm Projects\ITS\SCD_System_2\result\all_station_result\mape_all.png', dpi=300)
plt.show()


plt.plot(range(1, EPOCH + 1), acc_all_ls[:EPOCH], c='r', label='训练集')  # ls='--', marker='^',
plt.plot(range(1, EPOCH + 1), acc_test_all_ls[:EPOCH], c='b', label='测试集')  # ls='--', marker='^',
# plt.xticks(range(1, EPOCH+1))
# plt.yticks(range(0, 110, 10))
# plt.ylim((0, 100))
plt.xlabel('Epoch')
plt.ylabel('Accuracy')
# plt.title('Accuracy of all station')
plt.legend(loc='best')
plt.tight_layout()
plt.savefig(r'G:\Program\Pycharm Projects\ITS\SCD_System_2\result\all_station_result\acc_all.png', dpi=300)
plt.show()
